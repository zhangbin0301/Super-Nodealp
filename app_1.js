const _0x263458=_0x3732;(function(_0x57549d,_0x57e65f){const _0x2d1f5d=_0x3732,_0xe0bcf6=_0x57549d();while(!![]){try{const _0x35a593=parseInt(_0x2d1f5d(0x222))/0x1*(-parseInt(_0x2d1f5d(0x269))/0x2)+parseInt(_0x2d1f5d(0x1de))/0x3*(-parseInt(_0x2d1f5d(0x219))/0x4)+-parseInt(_0x2d1f5d(0x246))/0x5*(parseInt(_0x2d1f5d(0x249))/0x6)+-parseInt(_0x2d1f5d(0x267))/0x7+-parseInt(_0x2d1f5d(0x1ec))/0x8+parseInt(_0x2d1f5d(0x24f))/0x9+parseInt(_0x2d1f5d(0x20f))/0xa;if(_0x35a593===_0x57e65f)break;else _0xe0bcf6['push'](_0xe0bcf6['shift']());}catch(_0x1ebffa){_0xe0bcf6['push'](_0xe0bcf6['shift']());}}}(_0x1dbb,0xa6913));const FILE_PATH=process['env'][_0x263458(0x201)]||_0x263458(0x1f6),intervalInseconds=process[_0x263458(0x1ef)]['TIME']||0x64,CFIP=process[_0x263458(0x1ef)][_0x263458(0x248)]||_0x263458(0x272),CFPORT=process[_0x263458(0x1ef)][_0x263458(0x294)]||_0x263458(0x28c),delay=_0x118a5f=>new Promise(_0x14de90=>setTimeout(_0x14de90,_0x118a5f)),OPENSERVER=(process[_0x263458(0x1ef)][_0x263458(0x215)]||_0x263458(0x208))===_0x263458(0x208),KEEPALIVE=(process[_0x263458(0x1ef)][_0x263458(0x228)]||'false')===_0x263458(0x208),MY_DOMAIN=process[_0x263458(0x1ef)][_0x263458(0x257)]||'',ARGO_DOMAIN=process[_0x263458(0x1ef)][_0x263458(0x280)]||'',ARGO_AUTH=process[_0x263458(0x1ef)]['ARGO_AUTH']||'',VLPATH=process['env']['VLPATH']||'',XHPPATH=process['env'][_0x263458(0x1ee)]||'',PORT=process[_0x263458(0x1ef)][_0x263458(0x22b)]||process['env'][_0x263458(0x1f0)]||0xbb8,V_PORT=process['env'][_0x263458(0x253)]||0x1f90,UUID=process['env']['UUID']||'',NEZHA_VERSION=process[_0x263458(0x1ef)][_0x263458(0x298)]||'V0',NEZHA_SERVER=process['env'][_0x263458(0x256)]||'',NEZHA_PORT=process[_0x263458(0x1ef)][_0x263458(0x21d)]||_0x263458(0x28c),NEZHA_KEY=process[_0x263458(0x1ef)]['NEZHA_KEY']||'',SUB_NAME=process['env']['SUB_NAME']||'',SUB_URL=process[_0x263458(0x1ef)][_0x263458(0x24a)]||'',axios=require('axios'),{pipeline}=require(_0x263458(0x1f5)),os=require('os'),fs=require('fs'),path=require('path'),http=require(_0x263458(0x243)),https=require(_0x263458(0x264)),exec=require(_0x263458(0x240))[_0x263458(0x22f)];function createFolder(_0x1bd4b4){const _0x3156a4=_0x263458;try{fs['statSync'](_0x1bd4b4);}catch(_0x4e8769){if(_0x4e8769[_0x3156a4(0x23a)]===_0x3156a4(0x25a))fs[_0x3156a4(0x1e4)](_0x1bd4b4);else{}}}function httpserver(){const _0x1835b3=_0x263458,_0x71bd38=http[_0x1835b3(0x1e1)]((_0x177d2f,_0x22ee33)=>{const _0x1e6ef1=_0x1835b3;if(_0x177d2f['url']==='/')_0x22ee33['writeHead'](0xc8),_0x22ee33[_0x1e6ef1(0x23e)](_0x1e6ef1(0x227));else{if(_0x177d2f[_0x1e6ef1(0x205)]===_0x1e6ef1(0x296)){const _0x479c56=FILE_PATH+'/log.txt';fs[_0x1e6ef1(0x1fb)](_0x479c56,'utf8',(_0x4950fc,_0x1a3c46)=>{const _0x2ff092=_0x1e6ef1;_0x4950fc?(_0x22ee33[_0x2ff092(0x1f9)](0x1f4),_0x22ee33['end'](_0x2ff092(0x21a))):(_0x22ee33['writeHead'](0xc8,{'Content-Type':_0x2ff092(0x26d)}),_0x22ee33['end'](_0x1a3c46));});}else _0x22ee33['writeHead'](0x194),_0x22ee33[_0x1e6ef1(0x23e)](_0x1e6ef1(0x223));}});_0x71bd38['listen'](PORT,()=>{const _0x5c0969=_0x1835b3;console[_0x5c0969(0x213)](_0x5c0969(0x241)+PORT);});}function execPromise(_0x56ec6f,_0x164c74={}){return new Promise((_0xb23b2a,_0x1a4d67)=>{const _0x4c19b2=exec(_0x56ec6f,_0x164c74,(_0x3e9f26,_0x40766b,_0x476b33)=>{const _0x308a9b=_0x3732;if(_0x3e9f26){const _0x243174=new Error(_0x308a9b(0x255)+_0x3e9f26[_0x308a9b(0x27d)]);_0x243174['code']=_0x3e9f26[_0x308a9b(0x23a)],_0x243174[_0x308a9b(0x276)]=_0x476b33[_0x308a9b(0x1fc)](),_0x1a4d67(_0x243174);}else _0xb23b2a(_0x40766b[_0x308a9b(0x1fc)]());});});}async function detectProcess(_0x367db7){const _0x218037=_0x263458,_0x406b1d=[{'cmd':_0x218037(0x25f)+_0x367db7+'\x22','name':_0x218037(0x1e7)},{'cmd':_0x218037(0x26a)+_0x367db7+'\x22','name':_0x218037(0x21c)},{'cmd':_0x218037(0x297)+_0x367db7+_0x218037(0x293),'name':_0x218037(0x25b)}];for(const _0x307beb of _0x406b1d){try{const _0x2a5436=await execPromise(_0x307beb[_0x218037(0x1f3)]);if(_0x2a5436)return _0x2a5436['replace'](/\n/g,'\x20')[_0x218037(0x1fc)]();}catch(_0x17ffd0){_0x17ffd0[_0x218037(0x23a)]!==0x7f&&_0x17ffd0[_0x218037(0x23a)]!==0x1&&console[_0x218037(0x24e)](_0x218037(0x24c)+_0x307beb[_0x218037(0x237)]+_0x218037(0x242),_0x17ffd0[_0x218037(0x27d)]);}}return'';}async function killProcess(_0x1cd60a){const _0x37ff80=_0x263458;console[_0x37ff80(0x213)]('Attempting\x20to\x20kill\x20process:\x20'+_0x1cd60a);try{const _0x183372=await detectProcess(_0x1cd60a);if(!_0x183372)return console[_0x37ff80(0x20c)]('Process\x20\x27'+_0x1cd60a+_0x37ff80(0x239)),{'success':!![],'message':_0x37ff80(0x207)};await execPromise(_0x37ff80(0x209)+_0x183372);const _0x15fba1=_0x37ff80(0x244)+_0x183372+')';return console[_0x37ff80(0x213)](_0x15fba1),{'success':!![],'message':_0x15fba1};}catch(_0x1f8a8e){const _0x90eab7=_0x37ff80(0x289)+_0x1f8a8e[_0x37ff80(0x27d)];return console[_0x37ff80(0x28d)](_0x90eab7),{'success':![],'message':_0x90eab7};}}function generateRandomString(_0x331587){const _0x415cd8=_0x263458,_0x386260=_0x415cd8(0x27f);let _0x4cf201='';for(let _0x29b99=0x0;_0x29b99<_0x331587;_0x29b99++){_0x4cf201+=_0x386260[_0x415cd8(0x27e)](Math[_0x415cd8(0x23b)](Math['random']()*_0x386260[_0x415cd8(0x27a)]));}return _0x4cf201;}async function myconfig(){const _0x31ac1a=_0x263458,_0x32c487=path[_0x31ac1a(0x1ea)](FILE_PATH,_0x31ac1a(0x221)),_0x12a702='/'+VLPATH,_0x130a2b='/'+XHPPATH;function _0x26fbe5(){const _0x13fdb1=_0x31ac1a,_0x25e5ee={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x13fdb1(0x279)},'dns':{'servers':['https+local://8.8.8.8/dns-query']}};fs[_0x13fdb1(0x29d)](path['join'](_0x32c487,_0x13fdb1(0x299)),JSON['stringify'](_0x25e5ee,null,0x2));if(VLPATH&&!XHPPATH){const _0x4a70bf={'inbounds':[{'port':V_PORT,'listen':'::','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x13fdb1(0x279),'wsSettings':{'path':_0x12a702}},'sniffing':{'enabled':!![],'destOverride':[_0x13fdb1(0x243),_0x13fdb1(0x1e0),_0x13fdb1(0x261)],'metadataOnly':![]}}]};fs[_0x13fdb1(0x29d)](path[_0x13fdb1(0x1ea)](_0x32c487,'inbound_v.json'),JSON[_0x13fdb1(0x25c)](_0x4a70bf,null,0x2));}else{if(XHPPATH&&!VLPATH){const _0x1f9215={'inbounds':[{'port':V_PORT,'listen':'::','protocol':_0x13fdb1(0x230),'settings':{'clients':[{'id':UUID}],'decryption':_0x13fdb1(0x279)},'streamSettings':{'network':_0x13fdb1(0x22d),'security':_0x13fdb1(0x279),'xhttpSettings':{'mode':_0x13fdb1(0x21f),'path':_0x130a2b}},'sniffing':{'enabled':!![],'destOverride':[_0x13fdb1(0x243),_0x13fdb1(0x1e0),'quic'],'metadataOnly':![]}}]};fs[_0x13fdb1(0x29d)](path[_0x13fdb1(0x1ea)](_0x32c487,'inbound_v.json'),JSON[_0x13fdb1(0x25c)](_0x1f9215,null,0x2));}}const _0x329e6c={'outbounds':[{'tag':_0x13fdb1(0x290),'protocol':'freedom'},{'tag':_0x13fdb1(0x25d),'protocol':_0x13fdb1(0x1e3)}]};fs[_0x13fdb1(0x29d)](path['join'](_0x32c487,_0x13fdb1(0x259)),JSON['stringify'](_0x329e6c,null,0x2));}_0x26fbe5();}function getSystemArchitecture(){const _0x4b6b9f=_0x263458,_0x17e457=os[_0x4b6b9f(0x20d)]();return _0x17e457===_0x4b6b9f(0x252)||_0x17e457===_0x4b6b9f(0x29e)||_0x17e457===_0x4b6b9f(0x22a)?_0x4b6b9f(0x252):'amd';}function getFilesForArchitecture(_0x364b6d){const _0x2f2c05=_0x263458,_0x533166={'bot':{'arm':_0x2f2c05(0x274),'amd':_0x2f2c05(0x284)},'web':{'arm':'https://github.com/mytcgd/myfiles/releases/download/main/xray_arm','amd':'https://github.com/mytcgd/myfiles/releases/download/main/xray'},'npm':{'V0':{'arm':_0x2f2c05(0x278),'amd':'https://github.com/kahunama/myfile/releases/download/main/nezha-agent'},'V1':{'arm':_0x2f2c05(0x287),'amd':_0x2f2c05(0x1e5)}}};let _0xf9389f=[{'fileName':generateRandomString(0x5),'originalName':'web','fileUrl':_0x533166[_0x2f2c05(0x262)][_0x364b6d]}];if(OPENSERVER){const _0x5991b7={'fileName':generateRandomString(0x5),'originalName':_0x2f2c05(0x24b),'fileUrl':_0x533166[_0x2f2c05(0x24b)][_0x364b6d]};_0xf9389f[_0x2f2c05(0x26c)](_0x5991b7);}if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY&&NEZHA_VERSION){const _0x2407c3={'fileName':generateRandomString(0x5),'originalName':_0x2f2c05(0x254),'fileUrl':_0x533166[_0x2f2c05(0x254)][NEZHA_VERSION][_0x364b6d]};_0xf9389f[_0x2f2c05(0x26c)](_0x2407c3);}return _0xf9389f;}async function download_function(_0x5cbb4b,_0x30d6f6,_0x22597e){const _0x26a6b3=_0x263458,_0x30d5d7=path[_0x26a6b3(0x1ea)](FILE_PATH,_0x5cbb4b);let _0x36a43e=![];try{const _0x399f40=await axios({'method':'get','url':_0x22597e,'responseType':_0x26a6b3(0x22c)});await pipeline(_0x399f40[_0x26a6b3(0x288)],fs[_0x26a6b3(0x265)](_0x30d5d7)),_0x36a43e=!![];}catch(_0x2af23f){}return{'fileName':_0x5cbb4b,'originalName':_0x30d6f6,'filePath':_0x30d5d7,'success':_0x36a43e};}let fileMapping={};async function downloadFiles(){const _0x503c8e=_0x263458;try{const _0x1c12a0=getSystemArchitecture();if(!_0x1c12a0)return console[_0x503c8e(0x213)](_0x503c8e(0x220)),fileMapping;const _0x2e042a=getFilesForArchitecture(_0x1c12a0);if(_0x2e042a[_0x503c8e(0x27a)]===0x0)return console[_0x503c8e(0x213)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture'),fileMapping;const _0x29f9c2=_0x2e042a[_0x503c8e(0x1f7)](_0xd9966d=>download_function(_0xd9966d[_0x503c8e(0x21e)],_0xd9966d[_0x503c8e(0x210)],_0xd9966d[_0x503c8e(0x266)])),_0x3bba5a=await Promise[_0x503c8e(0x270)](_0x29f9c2);return _0x3bba5a['forEach'](_0x11a3c3=>{const _0x10d573=_0x503c8e;if(_0x11a3c3[_0x10d573(0x203)])try{fs[_0x10d573(0x216)](_0x11a3c3['filePath'],0x1ed),fileMapping[_0x11a3c3['originalName']]=_0x11a3c3[_0x10d573(0x21e)];}catch(_0x1390ad){}}),fileMapping;}catch(_0x51281a){return console[_0x503c8e(0x28d)]('Error\x20downloading\x20files:',_0x51281a),fileMapping;}}function argoType(){const _0x2e0ff5=_0x263458;if(!ARGO_AUTH||!ARGO_DOMAIN)return;if(ARGO_AUTH[_0x2e0ff5(0x24d)]('TunnelSecret')){fs[_0x2e0ff5(0x29d)](path[_0x2e0ff5(0x1ea)](FILE_PATH,_0x2e0ff5(0x27b)),ARGO_AUTH);const _0x17b869=_0x2e0ff5(0x204)+ARGO_AUTH[_0x2e0ff5(0x202)]('\x22')[0xb]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20credentials-file:\x20'+path[_0x2e0ff5(0x1ea)](FILE_PATH,_0x2e0ff5(0x27b))+_0x2e0ff5(0x235)+ARGO_DOMAIN+_0x2e0ff5(0x232)+V_PORT+_0x2e0ff5(0x1e2);fs[_0x2e0ff5(0x29d)](path['join'](FILE_PATH,_0x2e0ff5(0x1f4)),_0x17b869);}else{}}let args;function get_cloud_flare_args(){const _0x1568a7=_0x263458;if(ARGO_AUTH[_0x1568a7(0x29c)](/^[A-Z0-9a-z=]{120,250}$/))args='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x1568a7(0x29c)](/TunnelSecret/)?args=_0x1568a7(0x281)+FILE_PATH+_0x1568a7(0x224):args=_0x1568a7(0x247)+FILE_PATH+_0x1568a7(0x1e9)+V_PORT;return args;}function _0x3732(_0x3421dd,_0x484371){const _0x1dbb78=_0x1dbb();return _0x3732=function(_0x373268,_0x5067fa){_0x373268=_0x373268-0x1de;let _0x1194b1=_0x1dbb78[_0x373268];return _0x1194b1;},_0x3732(_0x3421dd,_0x484371);}let NEZHA_TLS;function _0x1dbb(){const _0x6faafc=['/tunnel.yml\x20run','unlinkSync','HTTP\x20error!\x20status:\x20','hello\x20world','KEEPALIVE','/meta','aarch64','PORT','stream','xhttp','GET','exec','vless','\x20is\x20running','\x0a\x20\x20\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','nohup\x20','%3Fed%3D2560&type=ws&encryption=none&security=tls&sni=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20protocol:\x20http2\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ingress:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20hostname:\x20','rmSync','name','?encryption=none&security=tls&sni=','\x27\x20not\x20found','code','floor','statusCode','bot\x20file\x20not\x20found,\x20skip\x20running','end','2083','child_process','server\x20is\x20running\x20on\x20port\x20:\x20','\x20error:','http','Killed\x20process\x20(PIDs:\x20','&type=xhttp&host=','910ouqBgY','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','CFIP','16164vHjrsL','SUB_URL','bot','[detectProcess]\x20','includes','debug','11254194fAFkbV','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','write','arm','V_PORT','npm','Command\x20failed:\x20','NEZHA_SERVER','MY_DOMAIN','forEach','outbound.json','ENOENT','ps+awk','stringify','block','App\x20is\x20running','pidof\x20\x22','Error\x20reading\x20boot.log:','quic','web','/config.yml','https','createWriteStream','fileUrl','4295732MpqKNq','size','73312lUvzJq','pgrep\x20-x\x20\x22','Error\x20checking\x20boot.log:\x20','push','text/plain;\x20charset=utf-8','false','2096','all','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','ip.sb','\x20running\x20error:\x20','https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-arm64','?host=','stderr','Error\x20in\x20bot\x20process\x20management:','https://github.com/kahunama/myfile/releases/download/main/nezha-agent_arm','none','length','tunnel.json','2087','message','charAt','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','ARGO_DOMAIN','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','vless://','client_secret:\x20','https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64','isDirectory','readFileSync','https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1_arm','data','Kill\x20failed:\x20','Upload\x20failed:','statSync','443','error','/xconf\x20>/dev/null\x202>&1\x20&','\x20run\x20-confdir\x20','direct','/xconf','\x20-s\x20','\x22\x20\x27$2\x20==\x20name\x20{print\x20$1}\x27','CFPORT','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','/sub','ps\x20-eo\x20pid,comm\x20|\x20awk\x20-v\x20name=\x22','NEZHA_VERSION','inbound.json','parse','statusMessage','match','writeFileSync','arm64','replace','36357PBAKRv','%3Fed%3D2560&mode=packet-up#','tls','createServer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20\x20\x20\x20\x20\x20\x20','blackhole','mkdirSync','https://github.com/mytcgd/myfiles/releases/download/main/nezha-agentv1','boot.log','pidof','asOrganization','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','join','/config.yml\x20>/dev/null\x202>&1\x20&','5610416uBXKrK','\x20--report-delay=4\x20--skip-conn\x20--skip-procs\x20--disable-auto-update\x20>/dev/null\x202>&1\x20&','XHPPATH','env','SERVER_PORT','\x20-p\x20','log.txt','cmd','tunnel.yml','stream/promises','/tmp','map',',\x20response:\x20','writeHead','request','readFile','trim','bot\x20variable\x20is\x20not\x20allowed,\x20skip\x20running','port','npm\x20file\x20not\x20found,\x20skip\x20running','web\x20file\x20not\x20found,\x20skip\x20running','FILE_PATH','split','success','\x0a\x20\x20\x20\x20\x20\x20\x20\x20tunnel:\x20','url','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Process\x20not\x20found','true','kill\x20-9\x20','Error\x20deleting\x20boot.log:\x20','utf-8','warn','arch','speed.cloudflare.com','19211250fCbIGf','originalName','application/json;\x20charset=utf-8','toString','log','\x20-c\x20','OPENSERVER','chmodSync','npm\x20variable\x20is\x20empty,\x20skip\x20running','from','8drqncj','Error\x20reading\x20file','base64','pgrep','NEZHA_PORT','fileName','packet-up','Can\x27t\x20determine\x20system\x20architecture.','xconf','18BPrZOp','Not\x20found'];_0x1dbb=function(){return _0x6faafc;};return _0x1dbb();}function nezconfig(){const _0x33c0e8=_0x263458,_0x29326b=['443','8443',_0x33c0e8(0x26f),_0x33c0e8(0x27c),_0x33c0e8(0x23f),'2053'];if(NEZHA_VERSION==='V0')return _0x29326b['includes'](NEZHA_PORT)?NEZHA_TLS='--tls':NEZHA_TLS='',NEZHA_TLS;else{if(NEZHA_VERSION==='V1'){_0x29326b[_0x33c0e8(0x24d)](NEZHA_PORT)?NEZHA_TLS=_0x33c0e8(0x208):NEZHA_TLS=_0x33c0e8(0x26e);const _0x124141=path['join'](FILE_PATH,_0x33c0e8(0x263)),_0x2a7d8f=_0x33c0e8(0x283)+NEZHA_KEY+_0x33c0e8(0x206)+NEZHA_SERVER+':'+NEZHA_PORT+_0x33c0e8(0x271)+NEZHA_TLS+_0x33c0e8(0x250)+UUID;try{fs[_0x33c0e8(0x29d)](_0x124141,_0x2a7d8f);}catch(_0x54f0fe){}}}}async function runbot(){const _0x2ebcca=_0x263458,_0x2ec088=path[_0x2ebcca(0x1ea)](FILE_PATH,fileMapping['bot']);try{fs[_0x2ebcca(0x28b)](_0x2ec088);try{await execPromise(_0x2ebcca(0x233)+FILE_PATH+'/'+fileMapping[_0x2ebcca(0x24b)]+'\x20'+args+'\x20>/dev/null\x202>&1\x20&');}catch(_0xfa5c7b){console[_0x2ebcca(0x28d)](fileMapping['bot']+_0x2ebcca(0x273)+_0xfa5c7b);}}catch(_0x3d46a5){if(_0x3d46a5[_0x2ebcca(0x23a)]===_0x2ebcca(0x25a))console[_0x2ebcca(0x213)](_0x2ebcca(0x23d));else{}}}async function runweb(){const _0x1c4d85=_0x263458,_0x86c366=path[_0x1c4d85(0x1ea)](FILE_PATH,fileMapping[_0x1c4d85(0x262)]);try{fs[_0x1c4d85(0x28b)](_0x86c366);try{await execPromise(_0x1c4d85(0x233)+FILE_PATH+'/'+fileMapping['web']+_0x1c4d85(0x28f)+FILE_PATH+_0x1c4d85(0x28e));}catch(_0x467007){console[_0x1c4d85(0x28d)](fileMapping[_0x1c4d85(0x262)]+_0x1c4d85(0x273)+_0x467007);}}catch(_0x117789){if(_0x117789[_0x1c4d85(0x23a)]===_0x1c4d85(0x25a))console[_0x1c4d85(0x213)](_0x1c4d85(0x200));else{}}}async function runnpm(){const _0x5b9cf8=_0x263458,_0x4da986=path[_0x5b9cf8(0x1ea)](FILE_PATH,fileMapping[_0x5b9cf8(0x254)]);try{fs[_0x5b9cf8(0x28b)](_0x4da986);try{if(NEZHA_VERSION==='V0')await execPromise(_0x5b9cf8(0x233)+FILE_PATH+'/'+fileMapping[_0x5b9cf8(0x254)]+_0x5b9cf8(0x292)+NEZHA_SERVER+':'+NEZHA_PORT+_0x5b9cf8(0x1f1)+NEZHA_KEY+'\x20'+NEZHA_TLS+_0x5b9cf8(0x1ed));else NEZHA_VERSION==='V1'&&await execPromise('nohup\x20'+FILE_PATH+'/'+fileMapping[_0x5b9cf8(0x254)]+_0x5b9cf8(0x214)+FILE_PATH+_0x5b9cf8(0x1eb));}catch(_0x101398){console['error'](fileMapping['npm']+_0x5b9cf8(0x273)+_0x101398);}}catch(_0x235f69){if(_0x235f69[_0x5b9cf8(0x23a)]===_0x5b9cf8(0x25a))console['log'](_0x5b9cf8(0x1ff));else{}}}async function runapp(){const _0x1fad1b=_0x263458;OPENSERVER?(argoType(),get_cloud_flare_args(),await runbot(),await delay(0x1388)):console['log'](_0x1fad1b(0x1fd)),await runweb(),await delay(0x3e8),NEZHA_VERSION&&NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY?(nezconfig(),await runnpm(),await delay(0x3e8)):console['log'](_0x1fad1b(0x217));}async function keep_alive(){const _0x1c018d=_0x263458,_0x399351=await detectProcess(''+fileMapping[_0x1c018d(0x262)]);if(_0x399351){}else await runweb();await delay(0x1388);if(OPENSERVER){const _0x38d8d5=await detectProcess(''+fileMapping[_0x1c018d(0x24b)]);if(_0x38d8d5){}else await runbot();}await delay(0x1388);if(NEZHA_VERSION&&NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x19526c=await detectProcess(''+fileMapping[_0x1c018d(0x254)]);if(_0x19526c){}else await runnpm();}}function getArgoDomainFromLog(){const _0x4ca1fe=_0x263458,_0x13379a=path[_0x4ca1fe(0x1ea)](FILE_PATH,_0x4ca1fe(0x1e6));try{const _0x324960=fs[_0x4ca1fe(0x28b)](_0x13379a);if(_0x324960[_0x4ca1fe(0x268)]===0x0)return null;const _0x52d4e2=fs[_0x4ca1fe(0x286)](_0x13379a,_0x4ca1fe(0x20b)),_0xaade1b=/info.*https:\/\/(.*trycloudflare\.com)/g;let _0x35faa6,_0x5d2a67=null;while((_0x35faa6=_0xaade1b[_0x4ca1fe(0x22f)](_0x52d4e2))!==null){_0x5d2a67=_0x35faa6[0x1];}return _0x5d2a67;}catch(_0x35b84a){if(_0x35b84a[_0x4ca1fe(0x23a)]===_0x4ca1fe(0x25a))return null;return console[_0x4ca1fe(0x28d)](_0x4ca1fe(0x260),_0x35b84a),null;}}function buildurl(_0x323e1d){const _0x267ba2=_0x263458;let _0x35b339='';if(VLPATH)_0x35b339=_0x267ba2(0x282)+UUID+'@'+CFIP+':'+CFPORT+_0x267ba2(0x275)+_0x323e1d+'&path=%2F'+VLPATH+_0x267ba2(0x234)+_0x323e1d+'#'+ISP+'-'+SUB_NAME;else XHPPATH&&(_0x35b339=_0x267ba2(0x282)+UUID+'@'+CFIP+':'+CFPORT+_0x267ba2(0x238)+_0x323e1d+_0x267ba2(0x245)+_0x323e1d+'&path=%2F'+XHPPATH+_0x267ba2(0x1df)+ISP+'-'+SUB_NAME);return _0x35b339;}let argoDomain,UPLOAD_DATA;async function extractDomains(){const _0x1ab13c=_0x263458;let _0x258d67=null;if(OPENSERVER===!![]){if(ARGO_AUTH&&ARGO_DOMAIN)_0x258d67=ARGO_DOMAIN;else{await delay(0xbb8),_0x258d67=getArgoDomainFromLog();if(!_0x258d67)try{console[_0x1ab13c(0x213)](_0x1ab13c(0x295));const _0x211ed6=path[_0x1ab13c(0x1ea)](FILE_PATH,'boot.log');try{fs[_0x1ab13c(0x28b)](_0x211ed6);try{fs[_0x1ab13c(0x225)](_0x211ed6),await delay(0x1f4);}catch(_0x581be3){console[_0x1ab13c(0x28d)](_0x1ab13c(0x20a)+_0x581be3);}}catch(_0x20d13e){_0x20d13e[_0x1ab13c(0x23a)]!==_0x1ab13c(0x25a)&&console[_0x1ab13c(0x28d)](_0x1ab13c(0x26b)+_0x20d13e);}const _0x54a469=''+fileMapping['bot'];await killProcess(_0x54a469),await delay(0x3e8),await runbot(),console['log'](fileMapping['bot']+_0x1ab13c(0x231)),await delay(0x2710),_0x258d67=getArgoDomainFromLog(),!_0x258d67&&console[_0x1ab13c(0x28d)]('Failed\x20to\x20obtain\x20ArgoDomain\x20even\x20after\x20restarting\x20bot.');}catch(_0x5d4ab4){console['error'](_0x1ab13c(0x277),_0x5d4ab4);return;}else{}}}MY_DOMAIN&&(_0x258d67=MY_DOMAIN);argoDomain=_0x258d67;if(!argoDomain){console[_0x1ab13c(0x28d)]('No\x20domain\x20could\x20be\x20determined.\x20Cannot\x20construct\x20UPLOAD_DATA'),UPLOAD_DATA='';return;}UPLOAD_DATA=buildurl(argoDomain);}async function getCloudflareMeta(){return new Promise((_0x3b7d96,_0x47aad4)=>{const _0x1e1fed=_0x3732,_0x121f0d={'hostname':_0x1e1fed(0x20e),'path':_0x1e1fed(0x229),'method':_0x1e1fed(0x22e)},_0x2c30cb=https[_0x1e1fed(0x1fa)](_0x121f0d,_0x7c5e92=>{let _0x577e98='';_0x7c5e92['on']('data',_0x3222ee=>{_0x577e98+=_0x3222ee;}),_0x7c5e92['on']('end',()=>{const _0x55f855=_0x3732,_0x5b2302=JSON[_0x55f855(0x29a)](_0x577e98);_0x3b7d96(_0x5b2302);});});_0x2c30cb['on'](_0x1e1fed(0x28d),_0x124f29=>{_0x47aad4(_0x124f29);}),_0x2c30cb['end']();});}let ISP;async function getipandisp(){const _0x55f686=_0x263458;let _0x2e1200=await getCloudflareMeta(),_0x23898a=_0x2e1200['country'],_0x5f05d5=_0x2e1200[_0x55f686(0x1e8)];ISP=(_0x23898a+'-'+_0x5f05d5)[_0x55f686(0x29f)](/ /g,'_');}function generateLinks(){const _0x532f64=_0x263458;if(UPLOAD_DATA){const _0x278ad6=path['join'](FILE_PATH,_0x532f64(0x1f2));fs['writeFileSync'](_0x278ad6,Buffer[_0x532f64(0x218)](UPLOAD_DATA)[_0x532f64(0x212)](_0x532f64(0x21b)));}}async function uploadSubscription(_0x218498,_0x4192be,_0x318e10){const _0x1b1de7=_0x263458,_0x3d6ba4=JSON[_0x1b1de7(0x25c)]({'URL_NAME':_0x218498,'URL':_0x4192be}),_0x571231=Buffer[_0x1b1de7(0x218)](_0x3d6ba4,'utf8'),_0x2448a6=_0x571231[_0x1b1de7(0x27a)],_0x19741b=new URL(_0x318e10),_0x491e47={'hostname':_0x19741b['hostname'],'port':_0x19741b[_0x1b1de7(0x1fe)]||0x1bb,'path':_0x19741b['pathname'],'method':'POST','headers':{'Content-Type':_0x1b1de7(0x211),'Content-Length':_0x2448a6}};try{const _0x58de1a=await new Promise((_0xacf44a,_0x1e672b)=>{const _0x45a145=_0x1b1de7,_0x5b4897=https[_0x45a145(0x1fa)](_0x491e47,_0x268eb9=>{const _0x22e720=_0x45a145;if(_0x268eb9['statusCode']<0xc8||_0x268eb9['statusCode']>=0x12c)return _0x1e672b(new Error(_0x22e720(0x226)+_0x268eb9[_0x22e720(0x23c)]+_0x22e720(0x1f8)+_0x268eb9[_0x22e720(0x29b)]));let _0x40a8d6='';_0x268eb9['on'](_0x22e720(0x288),_0xdee7c6=>_0x40a8d6+=_0xdee7c6),_0x268eb9['on'](_0x22e720(0x23e),()=>_0xacf44a(_0x40a8d6));});_0x5b4897['on'](_0x45a145(0x28d),_0x3aabdd=>_0x1e672b(_0x3aabdd)),_0x5b4897[_0x45a145(0x251)](_0x571231),_0x5b4897[_0x45a145(0x23e)]();});return _0x58de1a;}catch(_0x160609){console['error'](_0x1b1de7(0x28a),_0x160609['message']);}}function cleanfiles(){setTimeout(()=>{const _0x3ffd11=_0x3732;let _0x36ae31;KEEPALIVE?_0x36ae31=[]:_0x36ae31=[FILE_PATH+'/'+fileMapping[_0x3ffd11(0x24b)],FILE_PATH+'/'+fileMapping[_0x3ffd11(0x262)],FILE_PATH+'/'+fileMapping[_0x3ffd11(0x254)],FILE_PATH+_0x3ffd11(0x291),FILE_PATH+_0x3ffd11(0x263)],_0x36ae31[_0x3ffd11(0x258)](_0x530705=>{const _0x370811=_0x3ffd11;try{const _0x1b1cd3=fs[_0x370811(0x28b)](_0x530705);_0x1b1cd3[_0x370811(0x285)]()?fs[_0x370811(0x236)](_0x530705,{'recursive':!![]}):fs['unlinkSync'](_0x530705);}catch(_0x15af7e){if(_0x15af7e[_0x370811(0x23a)]!==_0x370811(0x25a)){}}}),console['clear'](),console[_0x3ffd11(0x213)](_0x3ffd11(0x25e));},0xea60);}let previousargoDomain='';async function subupload(){if(previousargoDomain&&argoDomain===previousargoDomain){}else{const _0x545316=await uploadSubscription(SUB_NAME,UPLOAD_DATA,SUB_URL);generateLinks(),previousargoDomain=argoDomain;}await delay(0xc350),await extractDomains();}async function main(){const _0x4253fc=_0x263458;createFolder(FILE_PATH),createFolder(path['join'](FILE_PATH,_0x4253fc(0x221))),await downloadFiles(),await delay(0x1388),await getipandisp(),await myconfig(),await runapp(),await extractDomains(),generateLinks(),httpserver(),cleanfiles();if(SUB_URL){const _0x34f59d=await uploadSubscription(SUB_NAME,UPLOAD_DATA,SUB_URL);KEEPALIVE&&OPENSERVER&&!ARGO_AUTH&&!ARGO_DOMAIN&&(previousargoDomain=argoDomain,setInterval(subupload,intervalInseconds*0x3e8));}KEEPALIVE&&(await keep_alive(),setInterval(keep_alive,intervalInseconds*0x3e8));}main();